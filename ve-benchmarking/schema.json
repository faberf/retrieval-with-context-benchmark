{
  "schemas": [
    {
      "name": "ptt",
      "connection": {
        "database": "CottontailConnectionProvider",
        "parameters": {
          "Host": "127.0.0.1",
          "port": "1865"
        }
      },
      "fields": [
        {
          "name": "averagecolor",
          "factory": "AverageColor"
        },
        {
          "name": "file",
          "factory": "FileSourceMetadata"
        },
        {
          "name": "time",
          "factory": "TemporalMetadata"
        },
        {
          "name": "video",
          "factory": "VideoSourceMetadata"
        },
        {
          "name": "asr_sparse",
          "factory": "ASR",
          "parameters": {
            "host": "http://10.34.58.85:8888/",
            "model": "whisper",
            "timeoutSeconds": "100",
            "retries":"1000"
          }
        },
        {
          "name": "asr_dense",
          "factory": "DenseEmbedding",
          "parameters": {
            "host": "http://10.34.58.85:8889/",
            "model": "e5mistral7b-instruct",
            "length": "4096",
            "timeoutSeconds": "100",
            "retries":"1000"
          }
        },
        {
          "name": "clip",
          "factory": "DenseEmbedding",
          "parameters": {
            "host": "http://10.34.58.85:8888/",
            "model": "open-clip-vit-b32",
            "length": "512",
            "timeoutSeconds": "100",
            "retries":"1000"
          }
        },

        {
          "name": "document_type",
          "factory": "ImageClassification",
          "parameters": {
            "host": "http://10.34.58.85:8888/",
            "model": "open-clip-vit-b32",
            "timeoutSeconds": "100",
            "retries":"1000",
            "classes": "text document,photograph",
            "threshold": "0.1",
            "top_k": "1"
          }
        },
        {
          "name": "caption_sparse",
          "factory": "ImageCaption",
          "parameters": {
            "host": "http://10.34.58.85:8888/",
            "timeoutSeconds": "100",
            "retries":"1000"
          }
        },
        {
          "name": "caption_dense",
          "factory": "DenseEmbedding",
          "parameters": {
            "host": "http://10.34.58.85:8889/",
            "model": "e5mistral7b-instruct",
            "length": "4096",
            "timeoutSeconds": "100",
            "retries":"1000"
          }
        },
        {
          "name": "ocr_sparse",
          "factory": "OCR",
          "parameters": {
            "host": "http://10.34.58.85:8888/",
            "model": "tesseract",
            "timeoutSeconds": "100",
            "retries":"1000"
          }
        },
        {
          "name": "ocr_dense",
          "factory": "DenseEmbedding",
          "parameters": {
            "host": "http://10.34.58.85:8889/",
            "model": "e5mistral7b-instruct",
            "length": "4096",
            "timeoutSeconds": "100",
            "retries":"1000"
          }
        }
      ],
      "resolvers": {
        "disk": {
          "factory": "DiskResolver",
          "parameters": {
            "location": "../thumbnails"
          }
        }
      },
      "exporters": [
        {
          "name": "thumbnail",
          "factory": "ThumbnailExporter",
          "resolverName": "disk",
          "parameters": {
            "maxSideResolution": "400",
            "mimeType": "JPG"
          }
        }
      ],
      "extractionPipelines": [
        {
          "name": "full",
          "path": "./pipelines/full-pipeline.json"
        }
      ]
    }
  ]
}
