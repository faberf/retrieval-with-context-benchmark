{
  "schema": "PTT",
  "context": {
    "contentFactory": "InMemoryContentFactory",
    "resolverName": "disk",
    "local": {
      "enumerator": {
        "path": "../../vitrivr/objects",
        "depth": "1"
      },
      "thumbs": {
        "maxSideResolution": "350",
        "mimeType": "JPG"
      },
      "filter": {
        "type": "SOURCE:VIDEO"
      }
    },
    "global": {
      "batchSize": "5"
    }
  },
  "operators": {
    "enumerator": {
      "type": "ENUMERATOR",
      "factory": "FileSystemEnumerator",
      "mediaTypes": [
        "VIDEO"
      ]
    },
    "decoder": {
      "type": "DECODER",
      "factory": "VideoDecoder"
    },
    "selector": {
      "type": "TRANSFORMER",
      "factory": "LastContentAggregator"
    },
    "avgColor": {
      "type": "EXTRACTOR",
      "fieldName": "averagecolor"
    },
    "file_metadata": {
      "type": "EXTRACTOR",
      "fieldName": "file"
    },
    "time_metadata": {
      "type": "EXTRACTOR",
      "fieldName": "time"
    },
    "video_metadata": {
      "type": "EXTRACTOR",
      "fieldName": "video"
    },
    "clip": {
      "type": "EXTRACTOR",
      "fieldName": "clip"
    },
    "caption": {
      "type": "EXTRACTOR",
      "fieldName": "caption"
    },
    "ocr": {
      "type": "EXTRACTOR",
      "fieldName": "ocr"
    },
    "document_type": {
      "type": "EXTRACTOR",
      "fieldName": "document_type"
    },
    "filter": {
      "type": "TRANSFORMER",
      "factory": "TypeFilterTransformer"
    }
  },
  "operations": {
    "enumerator": {
      "operator": "enumerator"
    },
    "decoder": {
      "operator": "decoder",
      "inputs": [
        "enumerator"
      ]
    },
    "selector": {
      "operator": "selector",
      "inputs": [
        "decoder"
      ]
    },
    "averagecolor": {
      "operator": "avgColor",
      "inputs": [
        "selector"
      ]
    },
    "time_metadata": {
      "operator": "time_metadata",
      "inputs": [
        "selector"
      ]
    },
    "clip": {
      "operator": "clip",
      "inputs": [
        "selector"
      ]
    },
    "caption": {
      "operator": "caption",
      "inputs": [
        "selector"
      ]
    },
    "ocr": {
      "operator": "ocr",
      "inputs": [
        "selector"
      ]
    },
    "document_type": {
      "operator": "document_type",
      "inputs": [
        "selector"
      ]
    },
    "filter": {
      "operator": "filter",
      "inputs": [
        "averagecolor",
        "time_metadata",
        "clip"
      ],
      "merge": "COMBINE"
    },
    "video_metadata": {
      "operator": "video_metadata",
      "inputs": [
        "filter"
      ]
    },
    "file_metadata": {
      "operator": "file_metadata",
      "inputs": [
        "video_metadata"
      ]
    }
  },
  "output": [
    "file_metadata"
  ]
}
